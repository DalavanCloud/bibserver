{
    # name of service
    "service_name" : "BibSoup",

    # allow_upload - set to "NO" if you dont want frontend upload to your bibserver install
    "allow_upload" : "YES",

    # elasticsearch settings
    "ELASTIC_SEARCH_HOST" : "127.0.0.1:9200",
    "ELASTIC_SEARCH_DB" : "bibserver",
    "default_indices": [],
    
    # a dict of the ES mappings. identify by name, and include name as first object name
    "mappings" : {
        "record" : {
            "record" : {
                "dynamic_templates" : [
                    {
                        "default" : {
                            "match" : "*",
                            "mapping" : {
                                "type" : "multi_field",
                                "fields" : {
                                    "{name}" : {"type" : "{dynamic_type}", "index" : "analyzed", "store" : "no"},
                                    "exact" : {"type" : "{dynamic_type}", "index" : "not_analyzed", "store" : "no"}
                                }
                            }
                        }
                    }
                ]
            }
        }
    },

    # identify how non-analyzed fields for faceting are differenetiated in the mappings
    "facet_field" : ".exact",
    
    # base URL of search service
    "base_url" : "/search",
    
    # default results and paging options
    "default_results_per_page" : 10,
    "results_per_page_options" : [10, 20, 50, 100],
    
    # The fields for which faceting should be made available on, and their default settings
    "facet_fields" : [
        {
            "key":"collection",
            "order":"term",
            "size":200
        },
        {
            "key":"type",
            "order":"count"
        },
        {
            "key":"journal"
        },
        {
            "key":"author",
            "order":"term"
        },
        {
            "key":"year",
            "order":"reverse_term"
        }
    ],

    # fields to offer result sorting on
    # note these must not be list or object fields.
    "sort_fields" : ["received","title","year","journal","url","source"],

    # fields to display as headers in search results
    #"display_fields" : ["author","title","journal","links"],
    
    # search result display header
    "result_display" : [
        [
            {
                "key": "author",
                "pre": "",
                "post": ""
            },
            {
                "key": "year",
                "pre": "(",
                "post": ")"
            }
        ],
        [
            {
                "pre": "<strong>",
                "key": "title",
                "post": "</strong>"
            }
        ],
        [
            {
                "key": "howpublished"
            },
            {
                "pre": "in <em>",
                "key": "journal",
                "post": "</em>,"
            },
            {
                "key": "booktitle",
                "pre": "<em>",
                "post": "</em>,"
            },
            {
                "key": "publisher"
            }
        ],
        [
            {
                "pre": "External links:",
                "key": "links"
            }
        ]
    ],
    
    # functions to perform on particular result fields on display
    "display_value_functions" : {
        "author":{"authorify":{}},
        "doi" : {"doiify" : {"resolver" : "http://dx.doi.org/"}},
        "collection": {"collectionify":{}},
        "links": {"bibsoup_links":{}}
    }
    
}
